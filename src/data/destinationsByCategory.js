// Destinations grouped by category. Each item is { city, country }.
export const destinationsByCategory = {
  'Temples & religious sites': [
    { city: 'Kyoto', country: 'Japan' },
    { city: 'Bagan', country: 'Myanmar' },
    { city: 'Angkor Wat', country: 'Cambodia' },
    { city: 'Varanasi', country: 'India' },
    { city: 'Borobudur', country: 'Indonesia' },
    { city: 'Bali', country: 'Indonesia' },
    { city: 'Jerusalem', country: 'Israel' },
    { city: 'Lhasa', country: 'China' },
    { city: 'Ayutthaya', country: 'Thailand' },
    { city: 'Siem Reap', country: 'Cambodia' },
    { city: 'Nara', country: 'Japan' },
    { city: 'Golden Temple (Amritsar)', country: 'India' },
    { city: 'Khajuraho', country: 'India' },
    { city: 'Bodh Gaya', country: 'India' },
    { city: 'Tirupati', country: 'India' },
    { city: 'Madurai', country: 'India' },
    { city: 'Meenakshi Temple (Madurai)', country: 'India' },
    { city: 'Rameswaram', country: 'India' },
    { city: 'Konark Sun Temple', country: 'India' },
    { city: 'Thanjavur', country: 'India' },
    { city: 'Chola Temples (Thanjavur)', country: 'India' },
    { city: 'Somnath', country: 'India' },
    { city: 'Pushkar', country: 'India' },
    { city: 'Meteora', country: 'Greece' },
    { city: 'Ephesus', country: 'Turkey' },
    { city: 'Petra', country: 'Jordan' },
    { city: 'Santiago de Compostela', country: 'Spain' },
    { city: 'Banaue', country: 'Philippines' },
  ],
  'Castles & palaces': [
    { city: 'Neuschwanstein', country: 'Germany' },
    { city: 'Edinburgh', country: 'United Kingdom' },
    { city: 'Prague', country: 'Czech Republic' },
    { city: 'Versailles (Paris)', country: 'France' },
    { city: 'Alhambra (Granada)', country: 'Spain' },
    { city: 'Windsor', country: 'United Kingdom' },
    { city: 'Bavarian Alps', country: 'Germany' },
    { city: 'Krakow', country: 'Poland' },
    { city: 'Segovia', country: 'Spain' },
    { city: 'Buda Castle (Budapest)', country: 'Hungary' },
    { city: 'Tokyo Imperial Palace', country: 'Japan' },
    { city: 'Sintra', country: 'Portugal' },
    { city: 'Bruges', country: 'Belgium' },
    { city: 'Heidelberg', country: 'Germany' },
    { city: 'Dresden', country: 'Germany' },
    { city: 'Moscow Kremlin', country: 'Russia' },
    { city: 'Jaipur', country: 'India' },
    { city: 'Udaipur', country: 'India' },
    { city: 'Chittorgarh Fort', country: 'India' },
    { city: 'Red Fort (Delhi)', country: 'India' },
    { city: 'Agra Fort', country: 'India' },
    { city: 'Seoul (Gyeongbokgung)', country: 'South Korea' },
    { city: 'Himeji', country: 'Japan' },
  ],
  'Popular destinations': [
    { city: 'Paris', country: 'France' },
    { city: 'Tokyo', country: 'Japan' },
    { city: 'London', country: 'United Kingdom' },
    { city: 'Rome', country: 'Italy' },
    { city: 'Barcelona', country: 'Spain' },
    { city: 'New York', country: 'United States' },
    { city: 'Amsterdam', country: 'Netherlands' },
    { city: 'Sydney', country: 'Australia' },
    { city: 'Singapore', country: 'Singapore' },
    { city: 'Dubai', country: 'United Arab Emirates' },
    { city: 'Madrid', country: 'Spain' },
    { city: 'Florence', country: 'Italy' },
    { city: 'Venice', country: 'Italy' },
    { city: 'Istanbul', country: 'Turkey' },
    { city: 'Hong Kong', country: 'China' },
    { city: 'Bangkok', country: 'Thailand' },
    { city: 'Lisbon', country: 'Portugal' },
    { city: 'Prague', country: 'Czech Republic' },
    { city: 'Athens', country: 'Greece' },
    { city: 'Seoul', country: 'South Korea' },
    { city: 'Berlin', country: 'Germany' },
    { city: 'Vienna', country: 'Austria' },
    { city: 'Copenhagen', country: 'Denmark' },
    { city: 'San Francisco', country: 'United States' },
    { city: 'Rio de Janeiro', country: 'Brazil' },
  ],
  'Beaches & islands': [
    { city: 'Santorini', country: 'Greece' },
    { city: 'Bali', country: 'Indonesia' },
    { city: 'Maldives', country: 'Maldives' },
    { city: 'Phuket', country: 'Thailand' },
    { city: 'Palawan', country: 'Philippines' },
    { city: 'Ibiza', country: 'Spain' },
    { city: 'Mallorca', country: 'Spain' },
    { city: 'Mykonos', country: 'Greece' },
    { city: 'Crete', country: 'Greece' },
    { city: 'Hawaii', country: 'United States' },
    { city: 'Cancún', country: 'Mexico' },
    { city: 'Tulum', country: 'Mexico' },
    { city: 'Boracay', country: 'Philippines' },
    { city: 'Koh Samui', country: 'Thailand' },
    { city: 'Gold Coast', country: 'Australia' },
    { city: 'Algarve', country: 'Portugal' },
    { city: 'Seychelles', country: 'Seychelles' },
    { city: 'Fiji', country: 'Fiji' },
    { city: 'Croatia (Hvar)', country: 'Croatia' },
    { city: 'Sardinia', country: 'Italy' },
    { city: 'Capri', country: 'Italy' },
    { city: 'Okinawa', country: 'Japan' },
    { city: 'Jeju Island', country: 'South Korea' },
  ],
  'Mountains & nature': [
    { city: 'Swiss Alps (Interlaken)', country: 'Switzerland' },
    { city: 'Patagonia', country: 'Chile' },
    { city: 'Banff', country: 'Canada' },
    { city: 'Queenstown', country: 'New Zealand' },
    { city: 'Milford Sound', country: 'New Zealand' },
    { city: 'Norwegian Fjords', country: 'Norway' },
    { city: 'Lofoten', country: 'Norway' },
    { city: 'Iceland', country: 'Iceland' },
    { city: 'Grand Canyon', country: 'United States' },
    { city: 'Alaska', country: 'United States' },
    { city: 'Mount Fuji', country: 'Japan' },
    { city: 'Himalayas (Ladakh)', country: 'India' },
    { city: 'Rishikesh', country: 'India' },
    { city: 'Chamonix', country: 'France' },
    { city: 'Zermatt', country: 'Switzerland' },
    { city: 'Lake District', country: 'United Kingdom' },
    { city: 'Scottish Highlands', country: 'United Kingdom' },
    { city: 'Plitvice Lakes', country: 'Croatia' },
    { city: 'Taroko Gorge', country: 'Taiwan' },
    { city: 'Guilin', country: 'China' },
    { city: 'Halong Bay', country: 'Vietnam' },
    { city: 'Masai Mara', country: 'Kenya' },
    { city: 'Kruger National Park', country: 'South Africa' },
  ],
  'Historical & ancient sites': [
    { city: 'Machu Picchu', country: 'Peru' },
    { city: 'Petra', country: 'Jordan' },
    { city: 'Rome', country: 'Italy' },
    { city: 'Athens', country: 'Greece' },
    { city: 'Cairo', country: 'Egypt' },
    { city: 'Luxor', country: 'Egypt' },
    { city: 'Ephesus', country: 'Turkey' },
    { city: 'Stonehenge', country: 'United Kingdom' },
    { city: 'Beijing', country: 'China' },
    { city: "Xi'an", country: 'China' },
    { city: 'Pompeii', country: 'Italy' },
    { city: 'Cusco', country: 'Peru' },
    { city: 'Jerusalem', country: 'Israel' },
    { city: 'Bath', country: 'United Kingdom' },
    { city: 'York', country: 'United Kingdom' },
    { city: 'Oxford', country: 'United Kingdom' },
    { city: 'Cambridge', country: 'United Kingdom' },
    { city: 'Český Krumlov', country: 'Czech Republic' },
    { city: 'Guanajuato', country: 'Mexico' },
    { city: 'San Miguel de Allende', country: 'Mexico' },
    { city: 'Cartagena', country: 'Colombia' },
    { city: 'Medellín', country: 'Colombia' },
    { city: 'Malacca', country: 'Malaysia' },
    { city: 'Hội An', country: 'Vietnam' },
    { city: 'Siena', country: 'Italy' },
    { city: 'Verona', country: 'Italy' },
    { city: 'Évora', country: 'Portugal' },
    { city: 'Toledo', country: 'Spain' },
    { city: 'Taj Mahal (Agra)', country: 'India' },
    { city: 'Agra', country: 'India' },
    { city: 'Khajuraho', country: 'India' },
    { city: 'Sanchi', country: 'India' },
    { city: 'Mahabalipuram', country: 'India' },
    { city: 'Hampi', country: 'India' },
    { city: 'Ajanta Caves', country: 'India' },
    { city: 'Ellora Caves', country: 'India' },
    { city: 'Elephanta Caves', country: 'India' },
    { city: 'Nalanda', country: 'India' },
    { city: 'Fatehpur Sikri', country: 'India' },
    { city: 'Rani ki vav', country: 'India' },
    { city: 'Pattadakal', country: 'India' },
    { city: 'Bhimbetka', country: 'India' },
    { city: 'Red Fort (Delhi)', country: 'India' },
    { city: 'Qutub Minar (Delhi)', country: 'India' },
  ],
  'Museums & culture': [
    { city: 'Paris', country: 'France' },
    { city: 'London', country: 'United Kingdom' },
    { city: 'New York', country: 'United States' },
    { city: 'Florence', country: 'Italy' },
    { city: 'Madrid', country: 'Spain' },
    { city: 'Amsterdam', country: 'Netherlands' },
    { city: 'Berlin', country: 'Germany' },
    { city: 'Vienna', country: 'Austria' },
    { city: 'Saint Petersburg', country: 'Russia' },
    { city: 'Washington DC', country: 'United States' },
    { city: 'Mexico City', country: 'Mexico' },
    { city: 'Cairo', country: 'Egypt' },
    { city: 'Beijing', country: 'China' },
    { city: 'Tokyo', country: 'Japan' },
    { city: 'Barcelona', country: 'Spain' },
    { city: 'Rome', country: 'Italy' },
    { city: 'Athens', country: 'Greece' },
    { city: 'Edinburgh', country: 'United Kingdom' },
    { city: 'Prague', country: 'Czech Republic' },
    { city: 'Bilbao', country: 'Spain' },
  ],
  'Nightlife & cities': [
    { city: 'Ibiza', country: 'Spain' },
    { city: 'Las Vegas', country: 'United States' },
    { city: 'Berlin', country: 'Germany' },
    { city: 'Barcelona', country: 'Spain' },
    { city: 'Amsterdam', country: 'Netherlands' },
    { city: 'Miami', country: 'United States' },
    { city: 'Tokyo', country: 'Japan' },
    { city: 'London', country: 'United Kingdom' },
    { city: 'New York', country: 'United States' },
    { city: 'Bangkok', country: 'Thailand' },
    { city: 'Dubai', country: 'United Arab Emirates' },
    { city: 'Singapore', country: 'Singapore' },
    { city: 'Hong Kong', country: 'China' },
    { city: 'Paris', country: 'France' },
    { city: 'Madrid', country: 'Spain' },
    { city: 'Mexico City', country: 'Mexico' },
    { city: 'São Paulo', country: 'Brazil' },
    { city: 'Seoul', country: 'South Korea' },
    { city: 'Austin', country: 'United States' },
    { city: 'Nashville', country: 'United States' },
  ],
  'Food & wine': [
    { city: 'Bordeaux', country: 'France' },
    { city: 'Lyon', country: 'France' },
    { city: 'Paris', country: 'France' },
    { city: 'San Sebastián', country: 'Spain' },
    { city: 'Barcelona', country: 'Spain' },
    { city: 'Madrid', country: 'Spain' },
    { city: 'Lisbon', country: 'Portugal' },
    { city: 'Porto', country: 'Portugal' },
    { city: 'Tokyo', country: 'Japan' },
    { city: 'Naples', country: 'Italy' },
    { city: 'Oaxaca', country: 'Mexico' },
    { city: 'Mexico City', country: 'Mexico' },
    { city: 'Stellenbosch', country: 'South Africa' },
    { city: 'Mendoza', country: 'Argentina' },
    { city: 'Buenos Aires', country: 'Argentina' },
    { city: 'Bangkok', country: 'Thailand' },
    { city: 'Ho Chi Minh City', country: 'Vietnam' },
    { city: 'Istanbul', country: 'Turkey' },
    { city: 'Lima', country: 'Peru' },
    { city: 'New Orleans', country: 'United States' },
    { city: 'Singapore', country: 'Singapore' },
    { city: 'Penang', country: 'Malaysia' },
  ],
  'Adventure & outdoor': [
    { city: 'Queenstown', country: 'New Zealand' },
    { city: 'Interlaken', country: 'Switzerland' },
    { city: 'Chamonix', country: 'France' },
    { city: 'Banff', country: 'Canada' },
    { city: 'Patagonia', country: 'Chile' },
    { city: 'Reykjavik', country: 'Iceland' },
    { city: 'Grand Canyon', country: 'United States' },
    { city: 'Alaska', country: 'United States' },
    { city: 'Rishikesh', country: 'India' },
    { city: 'Ladakh', country: 'India' },
    { city: 'Zakopane', country: 'Poland' },
    { city: 'Siargao', country: 'Philippines' },
    { city: 'Bohol', country: 'Philippines' },
    { city: 'Masai Mara', country: 'Kenya' },
    { city: 'Kruger National Park', country: 'South Africa' },
    { city: 'Ushuaia', country: 'Argentina' },
    { city: 'San Pedro de Atacama', country: 'Chile' },
    { city: 'Lofoten', country: 'Norway' },
    { city: 'Tromsø', country: 'Norway' },
    { city: 'Rovaniemi', country: 'Finland' },
    { city: 'Sapa', country: 'Vietnam' },
    { city: 'Lake District', country: 'United Kingdom' },
    { city: 'Scottish Highlands', country: 'United Kingdom' },
  ],
  'Zoos & wildlife': [
    { city: 'San Diego', country: 'United States' },
    { city: 'Singapore', country: 'Singapore' },
    { city: 'Kaziranga', country: 'India' },
    { city: 'Masai Mara', country: 'Kenya' },
    { city: 'Kruger National Park', country: 'South Africa' },
    { city: 'Sydney', country: 'Australia' },
    { city: 'Vienna', country: 'Austria' },
    { city: 'Berlin', country: 'Germany' },
    { city: 'Washington DC', country: 'United States' },
    { city: 'London', country: 'United Kingdom' },
    { city: 'Toronto', country: 'Canada' },
    { city: 'Barcelona', country: 'Spain' },
    { city: 'Copenhagen', country: 'Denmark' },
  ],
  'Nature & national parks': [
    { city: 'Grand Canyon', country: 'United States' },
    { city: 'Yellowstone', country: 'United States' },
    { city: 'Yosemite', country: 'United States' },
    { city: 'Zion', country: 'United States' },
    { city: 'Bryce Canyon', country: 'United States' },
    { city: 'Glacier National Park', country: 'United States' },
    { city: 'Acadia', country: 'United States' },
    { city: 'Great Smoky Mountains', country: 'United States' },
    { city: 'Banff', country: 'Canada' },
    { city: 'Iceland', country: 'Iceland' },
    { city: 'Norwegian Fjords', country: 'Norway' },
    { city: 'Lofoten', country: 'Norway' },
    { city: 'Patagonia', country: 'Chile' },
    { city: 'Milford Sound', country: 'New Zealand' },
    { city: 'Plitvice Lakes', country: 'Croatia' },
    { city: 'Kaziranga', country: 'India' },
    { city: 'Kerala', country: 'India' },
    { city: 'Ladakh', country: 'India' },
    { city: 'Swiss Alps (Interlaken)', country: 'Switzerland' },
  ],
  'Iconic sights & landmarks': [
    { city: 'Paris', country: 'France' },
    { city: 'New York', country: 'United States' },
    { city: 'London', country: 'United Kingdom' },
    { city: 'Rome', country: 'Italy' },
    { city: 'Barcelona', country: 'Spain' },
    { city: 'San Francisco', country: 'United States' },
    { city: 'Sydney', country: 'Australia' },
    { city: 'Tokyo', country: 'Japan' },
    { city: 'Agra', country: 'India' },
    { city: 'Taj Mahal (Agra)', country: 'India' },
    { city: 'Istanbul', country: 'Turkey' },
    { city: 'Dubai', country: 'United Arab Emirates' },
    { city: 'Beijing', country: 'China' },
    { city: 'Cairo', country: 'Egypt' },
    { city: 'Petra', country: 'Jordan' },
    { city: 'Athens', country: 'Greece' },
    { city: 'Grand Canyon', country: 'United States' },
    { city: 'Statue of Liberty', country: 'United States' },
    { city: 'Golden Gate Bridge', country: 'United States' },
  ],
}

export const categoryNames = Object.keys(destinationsByCategory)

/** Get list of { city, country, label } for a category */
export function getDestinationsForCategory(categoryName) {
  const items = destinationsByCategory[categoryName] || []
  return items.map(({ city, country }) => ({
    city,
    country,
    label: `${city}, ${country}`,
  }))
}

/** Get destinations that appear in ANY of the given categories (deduplicated by city|country). */
export function getDestinationsForCategories(categoryNamesArray) {
  if (!categoryNamesArray || categoryNamesArray.length === 0) return []
  const seen = new Set()
  const result = []
  for (const cat of categoryNamesArray) {
    const items = destinationsByCategory[cat] || []
    for (const { city, country } of items) {
      const key = `${city}|${country}`
      if (!seen.has(key)) {
        seen.add(key)
        result.push({ city, country, label: `${city}, ${country}` })
      }
    }
  }
  return result
}

/** Build a map of "city|country" -> [category names] for filtering */
const _destinationToCategories = (() => {
  const map = new Map()
  for (const [cat, items] of Object.entries(destinationsByCategory)) {
    for (const { city, country } of items) {
      const key = `${city}|${country}`
      if (!map.has(key)) map.set(key, [])
      map.get(key).push(cat)
    }
  }
  return map
})()

/** Get category names for a destination (city, country). Used for filtering in country view. */
export function getCategoriesForDestination(city, country) {
  return _destinationToCategories.get(`${city}|${country}`) || []
}

/** True if destination (city, country) is in at least one of the selected categories. */
export function matchesAnyCategory(city, country, selectedCategoriesArray) {
  if (!selectedCategoriesArray || selectedCategoriesArray.length === 0) return true
  const destCats = _destinationToCategories.get(`${city}|${country}`) || []
  return selectedCategoriesArray.some((c) => destCats.includes(c))
}
